@* @page "/categories"
@using Purchase.Data

<h3>Категории заявок</h3>

<EditForm Model="@newCategory" OnValidSubmit="AddCategory">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label>Название</label>
        <InputText @bind-Value="newCategory.Title" class="form-control" />
    </div>
    <div class="form-group">
        <label>Материал</label>
        <InputText @bind-Value="newCategory.Material" class="form-control" />
    </div>
    <div class="form-group">
        <label>Статус</label>
        <InputText @bind-Value="newCategory.Status" class="form-control" />
    </div>
    <button class="btn btn-primary" type="submit">Добавить</button>
</EditForm>

<hr />

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Название</th>
            <th>Материал</th>
            <th>Статус</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var category in Categories)
        {
            <tr>
                <td>@category.ID</td>
                <td>@category.Title</td>
                <td>@category.Material</td>
                <td>@category.Status</td>
            </tr>
        }
    </tbody>
</table>

@code {
    private List<ProposalCategory> Categories = new();
    private ProposalCategory newCategory = new();
    private int nextId => (Categories.LastOrDefault()?.ID ?? 0) + 1;

    private void AddCategory()
    {
        newCategory.ID = nextId;
        Categories.Add(newCategory);
        newCategory = new();
    }
} *@